{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/feedback.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction MyFeedbackComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"p\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MyFeedbackComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \" You haven't submitted any feedback yet. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyFeedbackComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h5\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Category: \", item_r4.category, \" | Status: \", item_r4.status, \"\");\n  }\n}\nfunction MyFeedbackComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, MyFeedbackComponent_div_4_div_1_Template, 7, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.feedback);\n  }\n}\nexport class MyFeedbackComponent {\n  constructor(feedbackService, authService) {\n    this.feedbackService = feedbackService;\n    this.authService = authService;\n    this.feedback = [];\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.loadFeedback();\n  }\n  loadFeedback() {\n    const email = this.authService.getUserEmail();\n    if (!email) return;\n    this.feedbackService.getFeedback({\n      email\n    }).subscribe({\n      next: data => {\n        this.feedback = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Failed to load feedback', err);\n        this.loading = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function MyFeedbackComponent_Factory(t) {\n      return new (t || MyFeedbackComponent)(i0.ɵɵdirectiveInject(i1.FeedbackService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MyFeedbackComponent,\n      selectors: [[\"app-my-feedback\"]],\n      decls: 5,\n      vars: 3,\n      consts: [[\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"list-group\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"alert\", \"alert-info\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\"], [1, \"mb-1\"]],\n      template: function MyFeedbackComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"My Feedback\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, MyFeedbackComponent_div_2_Template, 3, 0, \"div\", 0);\n          i0.ɵɵtemplate(3, MyFeedbackComponent_div_3_Template, 2, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, MyFeedbackComponent_div_4_Template, 2, 1, \"div\", 2);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.feedback.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.feedback.length > 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAQIA,8BAAyC;IACpCA,0BAAU;IAAAA,iBAAI;;;;;IAEnBA,8BAAwE;IACtEA,yDACF;IAAAA,iBAAM;;;;;IAEJA,8BAA2D;IACxCA,YAAc;IAAAA,iBAAK;IACpCA,4BAAgB;IAAAA,YAAoB;IAAAA,iBAAI;IACxCA,6BAAO;IAAAA,YAAqD;IAAAA,iBAAQ;;;;IAFnDA,eAAc;IAAdA,mCAAc;IACfA,eAAoB;IAApBA,yCAAoB;IAC7BA,eAAqD;IAArDA,wFAAqD;;;;;IAJhEA,8BAAgE;IAC9DA,0EAIM;IACRA,iBAAM;;;;IALkBA,eAAW;IAAXA,yCAAW;;;AAQvC,OAAM,MAAOC,mBAAmB;EAI9BC,YACUC,eAAgC,EAChCC,WAAwB;IADxB,oBAAe,GAAfD,eAAe;IACf,gBAAW,GAAXC,WAAW;IALrB,aAAQ,GAAU,EAAE;IACpB,YAAO,GAAG,IAAI;EAKX;EAEHC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,MAAMC,KAAK,GAAG,IAAI,CAACH,WAAW,CAACI,YAAY,EAAE;IAC7C,IAAI,CAACD,KAAK,EAAE;IAEZ,IAAI,CAACJ,eAAe,CAACM,WAAW,CAAC;MAAEF;IAAK,CAAE,CAAC,CAACG,SAAS,CAAC;MACpDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpB,IAAI,CAACE,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,yBAAyB,EAAEC,GAAG,CAAC;QAC7C,IAAI,CAACF,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;;;uBA3BWb,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAAiB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UAhB5BtB,0BAAI;UAAAA,2BAAW;UAAAA,iBAAK;UACpBA,oEAEM;UACNA,oEAEM;UACNA,oEAMM;;;UAZAA,eAAa;UAAbA,kCAAa;UAGbA,eAAuC;UAAvCA,gEAAuC;UAGvCA,eAAqC;UAArCA,8DAAqC","names":["i0","MyFeedbackComponent","constructor","feedbackService","authService","ngOnInit","loadFeedback","email","getUserEmail","getFeedback","subscribe","next","data","feedback","loading","error","err","console","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Jadala Yashwanth Sai\\OneDrive\\Desktop\\Final\\mean-citizen-voice\\angular-client\\src\\app\\components\\my-feedback\\my-feedback.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FeedbackService } from '../../services/feedback.service';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-my-feedback',\n  template: `\n    <h2>My Feedback</h2>\n    <div *ngIf=\"loading\" class=\"text-center\">\n      <p>Loading...</p>\n    </div>\n    <div *ngIf=\"!loading && feedback.length === 0\" class=\"alert alert-info\">\n      You haven't submitted any feedback yet.\n    </div>\n    <div *ngIf=\"!loading && feedback.length > 0\" class=\"list-group\">\n      <div *ngFor=\"let item of feedback\" class=\"list-group-item\">\n        <h5 class=\"mb-1\">{{item.title}}</h5>\n        <p class=\"mb-1\">{{item.description}}</p>\n        <small>Category: {{item.category}} | Status: {{item.status}}</small>\n      </div>\n    </div>\n  `\n})\nexport class MyFeedbackComponent implements OnInit {\n  feedback: any[] = [];\n  loading = true;\n  \n  constructor(\n    private feedbackService: FeedbackService,\n    private authService: AuthService\n  ) {}\n  \n  ngOnInit(): void {\n    this.loadFeedback();\n  }\n  \n  loadFeedback(): void {\n    const email = this.authService.getUserEmail();\n    if (!email) return;\n    \n    this.feedbackService.getFeedback({ email }).subscribe({\n      next: (data) => {\n        this.feedback = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Failed to load feedback', err);\n        this.loading = false;\n      }\n    });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}